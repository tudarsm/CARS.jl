<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Function Reference · CARS.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://tudarsm.github.io/CARS.jl/allfunctions/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CARS.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../examples/">Example Usage</a></li><li><a class="tocitem" href="../howto/">How to...</a></li><li class="is-active"><a class="tocitem" href>Function Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Function Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Function Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tudarsm/CARS.jl/blob/master/docs/src/allfunctions.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Function-Reference"><a class="docs-heading-anchor" href="#Function-Reference">Function Reference</a><a id="Function-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Function-Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="CARS.BlackBoxOptions" href="#CARS.BlackBoxOptions"><code>CARS.BlackBoxOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Base.@kwdef mutable struct BlackBoxOptions
    MaxFuncEvals::Int = 1000                    # Stop optimizing after reaching this number of iterations
    TargetFitness::Float64 = 1e-7                 # Stop optimizing after reachting this Fitness level
    # FitnessTolerance not yet implemented
    FitnessTolerance::Float64 = 1e-7            # If StoppingCriterion==:tol, stop if change between iterations is lower than this value
    TraceMode::Symbol = :silent                 # Output of blackboxoptim during optimization, see docs of BlackBoxOptim.jl for choices
    Method::Symbol = :adaptive_de_rand_1_bin    # Method used for optimization, see docs of BlackBoxOptim.jl for choices
    StoppingCriterion::Symbol = :best           # If set to :best, iteration will stop if BestFitness is reached. If set to :tol, it will stop if difference between iterations is smaller than FitnessTolerance
    PopulationSize::Int = 5                    # Population Size for methods which actually use a population. No effect for others.
end</code></pre><p>Specify options for <a href="#CARS.blackBoxFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>blackBoxFit</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/structs.jl#L23-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.CARSOptions" href="#CARS.CARSOptions"><code>CARS.CARSOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct CARSOptions</code></pre><p>Specifies global options that control certain aspects of CARS.jl</p><ul><li><code>fittype::Symbol</code>: either <code>:sqrt</code> to take the square root of the signal intensity (after preprocessing) or anything else (use the signal directly). Affects <a href="#CARS.preprocess_spectra-Tuple{RawSpectra, RawSpectra, Any}"><code>preprocess_spectra</code></a>, <a href="#CARS.calcResidual-Union{Tuple{T}, Tuple{PreProcSpectrum, Any, FitParams, Any, Vararg{T, N} where N}} where T&lt;:Real"><code>calcResidual</code></a>, <a href="#CARS.generateSpectrum!-Tuple{FitParams, Vararg{Any, N} where N}"><code>generateSpectrum!</code></a> and <a href="#CARS.noiseModel!-Tuple{Symbol, Vararg{Any, N} where N}"><code>noiseModel!</code></a>.</li><li><code>γf::AbstractFloat</code>: Controls rediscretization after convolution with the compression kernel in <a href="#CARS.generateLibrary-Tuple{Any, Any, Vararg{Any, N} where N}"><code>generateLibrary</code></a> and <a href="#CARS.simplifyLibrary!-Tuple{FitParams, Vararg{CARS.Library, N} where N}"><code>simplifyLibrary!</code></a>. Higher values means higher resolution of wavenumber axis. Defaults to 5.</li><li><code>interp</code>: Control interpolation scheme for some of the operations. Stick with Linear().</li><li><code>conv_margin</code>: Specifies a safety margin for the convolution with the apparatus function to avoid edge effects after simplifying a library. Applied as a factor to the instrumental linewidth.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/structs.jl#L47-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.FitParams" href="#CARS.FitParams"><code>CARS.FitParams</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Base.@kwdef mutable struct FitParams
    T                          # Temperature as value
    X::Dict{String,Any}        # Dictionary of Mole Fractions of resonant species
    chiNR=0                      # Non-resonant signal of resonant species. No need to set this manually, will be filled with correct values automatically
    chiB=8.5                     # Non-resonant susceptibility of the buffer gas    
    AdditionalFrequencyOffset=0  # For DP CARS Spectra. Additional shift (to what&#39;s already in the library) of Pump region 2 relative to pump region 1
    LineWidth::Dict{String,Any} # Dict of Laser linewidth(s), &quot;P1&quot; for pump region 1, &quot;P2&quot; for pump region 2
    Instrumental=0             # Instrumental LineWidth of spectrometer
    WavenumberPolynomial::Vector{Any}=[2200.,0.5,0.]     # Vector of polynomial parameter to fit the wavenumber axis, Syntax [a, b, c] will be interpreted as a+x^1*b+x^2*c
    WavenumberShift=0          # Shift of calibrated wavenumber axis (zero order)
    Spectra::SpectraStruct=SpectraStruct([0.],[0.],[0.],[0.],0,&quot;unknown&quot;)     # After fitting, this will contain the original experimental spectrum (after area normalization) along with the fit
end</code></pre><p>Struct containing all relevant degrees of freedom for simulatin/fitting spectra. Every parameter in here (with the exception of <code>Spectra</code>) can be used in the fit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/structs.jl#L91-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.IpoptOptions" href="#CARS.IpoptOptions"><code>CARS.IpoptOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Base.@kwdef mutable struct IpoptOptions
    max_iter::Int = 1000                        # Abort after a certain number of iterations
    max_wall_time::Float64 = 120.               # Abort after reaching a certain wall time
    tol::Float64 = 1e-8                         # Abort when reaching this tolerance (see Ipopt Documentation, 1e-7 is the default value)
    print_level::Int = 3                        # Amount of information during optimization.
    mu_strategy::String = &quot;adaptive&quot;            # &quot;monotone&quot; or &quot;adaptive&quot;.
end</code></pre><p>Specify options for <a href="#CARS.gradientFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>gradientFit</code></a> Some options passed to the Ipopt Optimizer. If you wish to extend this, check out the official <a href="https://coin-or.github.io/Ipopt/OPTIONS.html">Ipopt documentation</a> Values in this struct are all passed to the optimizer by name.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/structs.jl#L2-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.Library" href="#CARS.Library"><code>CARS.Library</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct Library
    species::Vector{String}  # name of resonant species in this library
    ROI::Vector                 # Region of Interest (excluding extension)
    AdditionalFrequencyOffset     # FrequencyOffset relative to PumpRegion 1
    T::Vector           # Vector of temperatures
    P::Float32          # Pressure
    ω::Vector{Float32}  # Wavenumberarray after compression
    ωres::Float32       # Wavenumber resolution used in library
    γc::Float32          # width of preconvolution kernel
    χC::Matrix{Array{Float32}} # compressed complex cross-terms
    χM::Array{Float32} # Compressed magnitude
    χI::Array{Float32} # Compressed imaginary components
    χR::Array{Float32} # Compressed real components
    χNR::Vector{Float32}  # (Purely real) non-resonant susceptibility of species in library. Already converted in cm3/molecule
end</code></pre><p>Struct containing all relevant data for a single pumping region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/structs.jl#L120-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.PreProcSpectrum" href="#CARS.PreProcSpectrum"><code>CARS.PreProcSpectrum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct PreProcSpectrum
    I::AbstractVector{Float64}          # area normalized intensity
    w::AbstractArray{Float64}           # weight used for fit
    A::Float64                          # original area (used to scale the variance for noise weighting)
    ErrorCode::Int8                     # specify errorcode after preprocessing (0: no error, 1:saturated, 2: signal too low, 3: breakdown)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/structs.jl#L72-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.RawSpectra" href="#CARS.RawSpectra"><code>CARS.RawSpectra</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct RawSpectra
    I::AbstractArray{Float64}      # signal
    BG::AbstractArray{Float64}     # background
    SingleShotNR::AbstractArray{Float64}     # preparation for single shot NR correction. not yet implemented.
end</code></pre><p>Struct containing raw spectra after loading from a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/load_spectra.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.argonModel!-Tuple{Any, Any, Any}" href="#CARS.argonModel!-Tuple{Any, Any, Any}"><code>CARS.argonModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">argonModel!(preprocessed,nr,roi)</code></pre><p>Extract a weight based on Stokes noise estimated from measurements in Argon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/noise_model.jl#L17-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.benchmarkGradient-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}" href="#CARS.benchmarkGradient-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>CARS.benchmarkGradient</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">benchmarkGradient(IE::PreProcSpectrum,startingsolution::FitParams,lower::FitParams,upper::FitParams,libs::Library...)</code></pre><p>Function to compute the gradient of the residual with the same argument structure as the fitting operations. Use e.g with <code>@benchmark</code> or simply <code>@time</code>. Helpful when comparing an optimized handling of an operation on duals with a working reference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/fit_spectra.jl#L253-L258">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.benchmarkValue-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}" href="#CARS.benchmarkValue-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>CARS.benchmarkValue</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">benchmarkValue(IE::PreProcSpectrum,startingsolution::FitParams,lower::FitParams,upper::FitParams,libs::Library...)</code></pre><p>Function to compute the value of the residual with the same argument structure as the fitting operations. Use e.g with <code>@benchmark</code> or simply <code>@time</code>. Helpful when comparing an optimized handling of an operation on duals with a working reference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/fit_spectra.jl#L273-L278">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.blackBoxFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}" href="#CARS.blackBoxFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>CARS.blackBoxFit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">blackBoxFit(IE::PreProcSpectrum,startingsolution::FitParams,lower::FitParams,upper::FitParams,libs::Library...;options::BlackBoxOptions=BlackBoxOptions(),showplots=false)</code></pre><p>Use BlackBoxOptim.jl for fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/fit_spectra.jl#L48-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.calcResidual-Union{Tuple{T}, Tuple{PreProcSpectrum, Any, FitParams, Any, Vararg{T, N} where N}} where T&lt;:Real" href="#CARS.calcResidual-Union{Tuple{T}, Tuple{PreProcSpectrum, Any, FitParams, Any, Vararg{T, N} where N}} where T&lt;:Real"><code>CARS.calcResidual</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calcResidual(spec::PreProcSpectrum,libs,params::FitParams,loc,x::T...) where {T&lt;:Real}</code></pre><p>Calculates the resiudal between preprocessed experimental spectrum <code>spec</code> and a simulated spectrum defined by <code>params</code>. Requires <code>loc</code> to interpret the vector <code>x</code> as fitting parameters to store in params struct.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>All methods wihtin this function have to be compatible with <code>T&lt;:Real</code> to be compatible with FowardDiff.Duals!</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/fit_spectra.jl#L293-L300">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.combinedFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}" href="#CARS.combinedFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>CARS.combinedFit</code></a> — <span class="docstring-category">Method</span></header><section><div><p>combinedFit(IE::PreProcSpectrum,startingsolution::FitParams,lower::FitParams,upper::FitParams,libs::Library...;blackboxopt::BlackBoxOptions=BlackBoxOptions(MaxFuncEvals=200,TraceMode=:silent),ipoptopt::IpoptOptions=IpoptOptions(print_level=0),showplots=false) Use <a href="#CARS.blackBoxFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>blackBoxFit</code></a> first which provides a starting solution for <a href="#CARS.gradientFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>gradientFit</code></a> for final fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/fit_spectra.jl#L2-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.fastLinearInt-Union{Tuple{K}, Tuple{V}, Tuple{T}, Tuple{R}, Tuple{AbstractArray{R, N} where N, AbstractArray{var&quot;#s45&quot;, N} where {var&quot;#s45&quot;&lt;:ForwardDiff.Dual{T, V, K}, N}, AbstractArray{var&quot;#s46&quot;, N} where {var&quot;#s46&quot;&lt;:AbstractFloat, N}}} where {R, T, V, K}" href="#CARS.fastLinearInt-Union{Tuple{K}, Tuple{V}, Tuple{T}, Tuple{R}, Tuple{AbstractArray{R, N} where N, AbstractArray{var&quot;#s45&quot;, N} where {var&quot;#s45&quot;&lt;:ForwardDiff.Dual{T, V, K}, N}, AbstractArray{var&quot;#s46&quot;, N} where {var&quot;#s46&quot;&lt;:AbstractFloat, N}}} where {R, T, V, K}"><code>CARS.fastLinearInt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fastLinearInt(wlib::AbstractArray{R},data::AbstractArray{&lt;:ForwardDiff.Dual{T,V,K}},wexp::AbstractArray{&lt;:AbstractFloat};extrap=false)  where {R,T,V,K}</code></pre><p>Do a fast linear interpolation of a Dual number array <code>data</code> from the original grid <code>wlib</code> to the destination grid <code>wexp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/interpolations.jl#L55-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.findNeighbours-Tuple{Any, Any}" href="#CARS.findNeighbours-Tuple{Any, Any}"><code>CARS.findNeighbours</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">findNeighbours(wexp,wlib;extrap=false)</code></pre><p>Finds neighbours of each element in wexp in the finer array wlib. Used for <a href="#CARS.fastLinearInt-Union{Tuple{K}, Tuple{V}, Tuple{T}, Tuple{R}, Tuple{AbstractArray{R, N} where N, AbstractArray{var&quot;#s45&quot;, N} where {var&quot;#s45&quot;&lt;:ForwardDiff.Dual{T, V, K}, N}, AbstractArray{var&quot;#s46&quot;, N} where {var&quot;#s46&quot;&lt;:AbstractFloat, N}}} where {R, T, V, K}"><code>fastLinearInt</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/interpolations.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.generateLibrary-Tuple{Any, Any, Vararg{Any, N} where N}" href="#CARS.generateLibrary-Tuple{Any, Any, Vararg{Any, N} where N}"><code>CARS.generateLibrary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generateLibrary(T,γc,getSuscs...)</code></pre><p>Generates libraries in the temperature range <code>T</code>, e.g. <code>T=280:20:2000</code> using the compression kernel <code>γc</code> and the supplied methods <code>getSuscs...</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/library_generation.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.generateSpectrum!-Tuple{FitParams, Vararg{Any, N} where N}" href="#CARS.generateSpectrum!-Tuple{FitParams, Vararg{Any, N} where N}"><code>CARS.generateSpectrum!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generateSpectrum!(params::FitParams,libs...;takesqrt=CARSopt.fittype)</code></pre><p>Convenience function to simulate spectra outside fitting mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/spectrum_generation.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.generateSpectrum!-Union{Tuple{T}, Tuple{FitParams, T, Any, Vararg{Any, N} where N}} where T&lt;:Real" href="#CARS.generateSpectrum!-Union{Tuple{T}, Tuple{FitParams, T, Any, Vararg{Any, N} where N}} where T&lt;:Real"><code>CARS.generateSpectrum!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generateSpectrum!(params::FitParams,a::T,loc,libs...;takesqrt=CARSopt.fittype) where {T&lt;:Real}</code></pre><p>Generates a spectrum based on the parameters provided by <code>params</code> using the libraries <code>libs...</code>. The loc array is required to identify if some of the degrees of freedom are required, e.g. frequency offset, where the interpolation is not performed if not required.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>All methods wihtin this function have to be compatible with <code>T&lt;:Real</code> to be compatible with FowardDiff.Duals!</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/spectrum_generation.jl#L12-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.gradientFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}" href="#CARS.gradientFit-Tuple{PreProcSpectrum, FitParams, FitParams, FitParams, Vararg{CARS.Library, N} where N}"><code>CARS.gradientFit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gradientFit(IE::PreProcSpectrum,startingsolution::FitParams,lower::FitParams,upper::FitParams,libs::Library...;options::IpoptOptions=IpoptOptions(),showplots=false)</code></pre><p>Use JuMP+Ipopt for fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/fit_spectra.jl#L130-L133">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.isFitParam-Tuple{Any, Any}" href="#CARS.isFitParam-Tuple{Any, Any}"><code>CARS.isFitParam</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isFitParam(loc,name)</code></pre><p>Returns <code>true</code> if <code>name</code> is a fit parameter by detecting if it is in the <code>loc</code> array created by <a href="#CARS.vectorizeParams!-Tuple{FitParams, FitParams, FitParams, Tuple}"><code>vectorizeParams!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/utilities.jl#L5-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.noiseModel!-Tuple{Symbol, Vararg{Any, N} where N}" href="#CARS.noiseModel!-Tuple{Symbol, Vararg{Any, N} where N}"><code>CARS.noiseModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">noiseModel!(type::Symbol,x...)</code></pre><p>Abstraction to extract a noiseModel with various methods. Only implemented at the moment: <code>:argon</code> which calls <a href="#CARS.argonModel!-Tuple{Any, Any, Any}"><code>argonModel!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/noise_model.jl#L2-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.preprocess_spectra-Tuple{RawSpectra, RawSpectra, Any}" href="#CARS.preprocess_spectra-Tuple{RawSpectra, RawSpectra, Any}"><code>CARS.preprocess_spectra</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preprocess_spectra(signal::RawSpectra,nr_signal::RawSpectra,roi;errorCriteria::ErrorCriteria=ErrorCriteria())</code></pre><p>Preprocesses spectra passed to this function as signal. It uses the some criteria to exclude spectra from fitting, e.g. when the signal is too high or too low or if a breakdown occured. Check out the example <code>fit_experimental_data.jl</code> for how to adapt the ErrorCriteria to your needs. Signals are normalized to the supplied non-resonant signal nr_signal of type <a href="#CARS.RawSpectra"><code>RawSpectra</code></a> and, if specified in <a href="#CARS.CARSOptions"><code>CARSOptions</code></a> the square root is taken.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/preprocess_spectra.jl#L24-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.save-Tuple{Any, Any, Any}" href="#CARS.save-Tuple{Any, Any, Any}"><code>CARS.save</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This function can be used to conveniently store data in either a .MAT or .JLD2 file, depending on what you would like to use for further processing     If the file exists, the data is added to the file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/utilities.jl#L159-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.simplifyLibrary!-Tuple{FitParams, Vararg{CARS.Library, N} where N}" href="#CARS.simplifyLibrary!-Tuple{FitParams, Vararg{CARS.Library, N} where N}"><code>CARS.simplifyLibrary!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This function uses the linewidth and additionalfrequencyoffset in fitparams and applies them to the library.     This allows to treat these as fixed parameters for the fit and make it much(!) faster</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/library_generation.jl#L186-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CARS.vectorizeParams!-Tuple{FitParams, FitParams, FitParams, Tuple}" href="#CARS.vectorizeParams!-Tuple{FitParams, FitParams, FitParams, Tuple}"><code>CARS.vectorizeParams!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>vectorizeParams!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudarsm/CARS.jl/blob/51e943a81b8e201a0a66c14b32983471e6f7c50c/src/includes/utilities.jl#L26-L28">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../howto/">« How to...</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Tuesday 8 August 2023 11:04">Tuesday 8 August 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
